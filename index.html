<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JAN KEN PON!</title>
</head>
<body>
    <script>
        // function to get a random choice between rock, paper and scissors
        function getComputerChoice() {
           let computerSelection = Math.floor(Math.random() * 3);
           if (computerSelection === 0) {
            return "Guu";
           }
           else if (computerSelection === 1) {
            return "Paa";
           }
           else {
            return "Choki";
           }
        }
        // function to prompt user for a rock paper scissors choice, or ask again if not legit
        function getPlayerChoice() {
            let playerSelection = prompt('Saisho wa guu, JAN KEN PON');
            playerSelectionUpper = playerSelection.toUpperCase();
            if (playerSelectionUpper === "GUU") {
                return "Guu";
            }
            else if (playerSelectionUpper === "PAA") {
                return "Paa";
            }
            else if (playerSelectionUpper === "CHOKI") {
                return "Choki";
            }
            else {
                getPlayerChoice();
            }
        }

        // Play a single round of jankenpon, returning a different option for each win, loss or draw
        function playRound(computerChoice, playerChoice) {
            if (computerChoice === "Guu" && playerChoice === "Paa") {
                return "Yatta! Kachi da! Paa wa Guu no hou ga tsuyoi nee.";
            }
            else if (computerChoice === "Paa" && playerChoice === "Choki") {
                return "Yatta! Kachi da! Choki wa Paa no hou ga tsuyoi nee.";
            }
            else if (computerChoice === "Choki" && playerChoice === "Guu") {
                return "Yatta! Kachi da! Guu wa Choki no hou ga tsuyoi nee.";
            }
            else if (computerChoice === "Guu" && playerChoice === "Choki") {
                return "Maketa! Zannen deshita...Guu wa Choki no hou ga tsuyoi nee.";
            }
            else if (computerChoice === "Choki" && playerChoice === "Paa") {
                return "Maketa! Zannen deshita...Choki wa Paa no hou ga tsuyoi nee.";
            }
            else if (computerChoice === "Paa" && playerChoice === "Guu") {
                return "Maketa! Zannen deshita...Paa wa Guu no hou ga tsuyoi nee."
            }
            else {
                return "Aiko deshou.";
            }

        }
        //play an entire game of 5 rounds, keeping score of wins and losses
        function game() {
            let win = 0
            let lose = 0
            for (let i = 0; i < 5; i++) {
                let computerChoice = getComputerChoice()
                let playerChoice = getPlayerChoice()
                let result = playRound(computerChoice, playerChoice)
                if (result === "Yatta! Kachi da! Paa wa Guu no hou ga tsuyoi nee." || result === "Yatta! Kachi da! Choki wa Paa no hou ga tsuyoi nee." || result === "Yatta! Kachi da! Guu wa Choki no hou ga tsuyoi nee.") {
                    win++
                    console.log(win + " " + "kai katta!")
                }
                else if (playRound === "Aiko deshou.") {

                    console.log("Aiko deshou!")
                }
                else {
                    lose++
                    console.log(lose + " " + "kai maketa!")
                }
            }

        }
    </script>
</body>
</html>